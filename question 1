import urllib.request
import urllib.parse
import re
import datetime
import itertools
import operator

print (input("\nHello, Press enter to begin!"))

url = 'https://s3.amazonaws.com/tcmg476/http_access_log'
response = str(urllib.request.urlopen(url).read())

file = open("adam.txt","w") 
file.write(response)


#1
total= ()
total = re.findall(r' - - ', response)

print ("\n1.The total requests that were made in the time period represented in the log?")
print (" ")
print (len(total))


#2
month_Jan = re.findall(r'Jan',response)
month_Feb = re.findall(r'Feb',response)
month_Mar = re.findall(r'Mar',response)
month_Apr = re.findall(r'Apr',response)
month_May = re.findall(r'May',response)
month_Jun = re.findall(r'Jun',response)
month_Jul = re.findall(r'Jul',response)
month_Aug = re.findall(r'Aug',response)
month_Sep = re.findall(r'Sep',response)
month_Oct = re.findall(r'Oct',response)
month_Nov = re.findall(r'Nov',response)
month_Dec = re.findall(r'Dec',response)

Jan = len(month_Jan)
Feb = len(month_Feb)
Mar = len(month_Mar)
Apr = len(month_Apr)
May = len(month_May)
Jun = len(month_Jun)
Jul = len(month_Jul)
Aug = len(month_Aug)
Sep = len(month_Sep)
Oct = len(month_Oct)
Nov = len(month_Nov)
Dec = len(month_Dec)

month = {"January":Jan,"February":Feb,"March":Mar,"April":Apr,"May":May, "Jun":Jun, "Jul":Jul, "Aug": Aug, "Sep": Sep, "Oct": Oct, "Oct": Oct, "Nov": Nov, "Dec": Dec}

days = ()
days = re.findall(r'[0-9][0-9]\W[A-Z][a-z][a-z]\W[0-9][0-9[0-9][0-9][0-9]', response)

individual_days = set(days)

day = len(individual_days)

daydict = {}

for everyday in individual_days:
    count = 0
    x = everyday
    for i in days:
        if i == x:
            count =count+1
        daydict [x] = [count]
